@{
    ViewBag.Title = "Edit Logo";
}

<h2>Edit @Model.Name</h2>
<h3>
@Html.ActionLink("Basic Info", "Edit", "Menu", new { id = Model.MenuId }, null) | 
@Html.ActionLink("Theme", "Edit2", "Menu", new { id = Model.MenuId }, null) | 
@Html.ActionLink("About", "Edit3", "Menu", new { id = Model.MenuId }, null) | 
@Html.ActionLink("Logo", "Edit4", "Menu", new { id = Model.MenuId }, null) | 
@Html.ActionLink("Location", "Edit5", "Menu", new { id = Model.MenuId }, null) | 
@Html.ActionLink("Hours", "Edit6", "Menu", new { id = Model.MenuId }, null) | 
@Html.ActionLink("Contact", "Edit7", "Menu", new { id = Model.MenuId }, null) | 
@Html.ActionLink("Menu Items", "Details", "MenuTree", new { id = Model.MenuId, parent = 0, idx = -1, source = "MenuEditor" }, null)
</h3>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Current Logo</legend>
        <br />
        @if (string.IsNullOrEmpty(Model.LogoUrl))
        {
            <text><b>No logo uploaded.</b></text>
        }
        else
        {
            <img src="@Model.LogoUrl" />
        }
        <br />
        <br />
        <link href="@Url.Content("~/Content/fileuploader.css")" rel="stylesheet" type="text/css" />
        <script src="@Url.Content("~/Scripts/fileuploader.js")" type="text/javascript"></script>

	        <div id="file-uploader">		
		        <noscript>			
			        <p>Please enable JavaScript on your browser to be able to upload your business's logo.</p>
			        <!-- or put a simple form for upload here -->
		        </noscript>         
	        </div>
            <script>
                jQuery(function () {
                    var uploader = new qq.FileUploader({
                        element: document.getElementById('file-uploader'),
                        action: '/Menu/LogoUpload',
                        allowedExtensions: ['jpg', 'jpeg', 'png', 'gif'],
                        sizeLimit: 600000, // max size
                        multiple: false,
                        debug: true,
                        params: {
                            menuDartUrl: '@Model.MenuDartUrl'
                        }
                    });
                });     

            </script>

    </fieldset>
}

<div>
    @Html.ActionLink("Back to Dashboard", "Index", "Dashboard")
</div>